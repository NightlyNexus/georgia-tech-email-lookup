<!DOCTYPE html>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<html>
<head>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script type="text/javascript">
function ExampleJS() {
    var name = document.getElementById("name").value;
    console.log("clicked");
    $('#names').text("");
    $.getJSON("http://m2.cip.gatech.edu/proxy/iam-dev01.iam.gatech.edu/directory/people.json?query=" + name, function(data) {
        console.log("parsing");
        var people = data.people;//is an array
        if (people != null) {
            for (var i = 0; i < people.length; i++) {
                var person = people[i];
                $('#names').append("<br/>");
                $('#names').append("<name>" + person.displayName + " (" + person.ou + " " + person.employeeType + ") : </name>");
                $('#names').append("<email> <a href='mailto:" + person.mail + "'>" + person.mail + "</a></email>");
            }
        }
    });
    //start ajax request
    /*$.ajax({
        url: "http://m2.cip.gatech.edu/proxy/iam-dev01.iam.gatech.edu/directory/people.json?query=Eric",
        //force to handle it as text
        dataType: "text",
        success: function(data) {
            //data downloaded so we call parseJSON function 
            //and pass downloaded data
            var json = $.parseJSON(data);
            console.log("parsing123");
            //now json variable contains data in json format
            //let's display a few items
            $('#results').html('Plugin name: ' + json.per_page + '<br />Author: ' + json.per_page);
        }
    });*/
    //alert("Your name is: " + name);
    console.log("finishing");
}
</script>
</head>
<body>
<form name="myform" onSubmit="JavaScript:ExampleJS(); return false;">
Name: <input type="text" id="name" name="name">
<input type="submit" value="Submit">
</form>
<!-- <h1>My First Heading</h1> -->

<!-- <p>My first paragraph.</p> -->

<div id="names"></div>
<div id="emails"></div>

</body>
</html>